<div class="d-flex justify-content-between align-items-center mb-4">
    <h2><i class="bi bi-house-door-fill me-2"></i>All Properties</h2>
    <div>
        <span class="badge bg-primary me-2 fs-6">
            <i class="bi bi-collection me-1"></i>Total: {{ total_properties_count }}
        </span>
        <span class="badge bg-success fs-6">
            <i class="bi bi-person-check-fill me-1"></i>Occupied: {{ occupied_properties_count }}
        </span>
    </div>
</div>

{% if properties %}
<div class="table-responsive">
    <table class="table table-striped">
        <thead class="table-dark">
            <tr>
                <th><i class="bi bi-building me-1"></i>Name</th>
                <th><i class="bi bi-person me-1"></i>Owner</th>
                <th><i class="bi bi-tags me-1"></i>Type</th>
                <th><i class="bi bi-door-closed me-1"></i>Occupied</th>
                <th><i class="bi bi-moon-fill me-1"></i>Bedrooms</th>
                <th><i class="bi bi-droplet-half me-1"></i>Bathrooms</th>
                <th><i class="bi bi-aspect-ratio me-1"></i>Sq. Footage</th>
                <th><i class="bi bi-gear me-1"></i>Actions</th>
            </tr>
        </thead>
        <tbody>
            {% for property in properties %}
            <tr>
                <td>{{ property.name }}</td>
                <td>{{ property.property_owner.get_full_name }}</td>
                <td>{{ property.get_type_display }}</td>
                <td>
                    {% if property.is_occupied %}
                        <span class="badge bg-success">Yes</span>
                    {% else %}
                        <span class="badge bg-secondary">No</span>
                    {% endif %}
                </td>
                <td>{{ property.bedrooms }}</td>
                <td>{{ property.bathrooms }}</td>
                <td>{{ property.square_footage }}</td>
                <td>
                    <button 
                        class="btn btn-primary btn-sm"
                        hx-get="{% url 'property_detail' property.id %}" 
                        hx-target="#tables"
                        hx-swap="innerHTML"
                        hx-trigger="click">
                        <i class="bi bi-eye-fill"></i> View
                    </button>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>
{% else %}
<p>No properties available.</p>
{% endif %}
